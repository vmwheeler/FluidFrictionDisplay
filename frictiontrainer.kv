#:kivy 1.11.1

<FrictionDisplay>:    
    #fig: thefig
    ps1: pressure_sensor_1
    ps2: pressure_sensor_2
    col: bgcolor
    tcol: textcolor
    
    # this boxlayout represents the whole display
    BoxLayout:
        
        orientation:'vertical'
        size: root.width, root.height
    
 
        canvas:
            Color:
                #rgba: 0.6,0,0,1
                rgba: root.col.r, root.col.g, root.col.b, root.col.a
            Rectangle:
                size: self.size

        

        # This is the first widget in the above boxlayout making the top box
        BoxLayout:
            
            orientation: 'vertical'
            
            Label:
                size: root.width, root.height
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                
                color: 1,1,1,1
                #color: root.tcol.r, root.tcol.g, root.tcol.b, root.tcol.a
                markup: True
                font_size: root.font_size
                text: '| p[sub]2[/sub] - p[sub]1[/sub] |' + '\n' + str(root.pdiff)
                
            #RealTimeFigure:
                #size: root.width, root.height
            
                            
        # this is the second element        
        BoxLayout:
        
            orientation: 'horizontal'
            size_hint: [1,0.25]
            
            BoxLayout:
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: 0.5, 0.5, 0.5, 1
                    Rectangle:
                        pos: self.pos   
                        size: self.size
                    Color:
                        rgba: 1, 1, 1, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                
                Label:
                    color: 1, 1, 1, 1
                    font_size: root.font_size
                    markup: True
                    text: "p[sub]1[/sub]" 

            
                Label:
                    color: 1, 1, 1, 1
                    font_size: root.font_size
                    text: str(root.ps1.data)
                
            
            BoxLayout:
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: 0.5, 0.5, 0.5, 1
                    Rectangle:
                        pos: self.pos   
                        size: self.size
                    Color:
                        rgba: 1, 1, 1, 1
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                
                Label:
                    color: 1, 1, 1, 1
                    font_size: root.font_size
                    markup: True
                    text: "p[sub]2[/sub]" 

            
                Label:
                    color: 1, 1, 1, 1
                    font_size: root.font_size
                    text: str(root.ps2.data)

    #RealTimeFigure:
        #id: thefig

    PressureSensor:
        id: pressure_sensor_1
            
    PressureSensor:
        id: pressure_sensor_2

    RGBAColor:
        id: bgcolor
    RGBAColor
        id: textcolor
        
        
                

